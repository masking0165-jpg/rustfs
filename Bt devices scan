# Scanning for Bluetooth Devices in Rust
use bluer::Adapter; use futures::stream::StreamExt; #[tokio::main] async fn main() -> bluer::Result<()> { // Initialize the Bluetooth session let session = bluer::Session::new().await?; let adapter = session.default_adapter().await?; println!("Using Bluetooth adapter: {}", adapter.name()); // Ensure the adapter is powered on adapter.set_powered(true).await?; // Start scanning for nearby devices let mut discovery = adapter.discover_devices().await?; println!("Scanning for Bluetooth devices..."); while let Some(device_event) = discovery.next().await { match device_event { bluer::AdapterEvent::DeviceAdded(addr) => { if let Ok(device) = adapter.device(addr).await { if let Ok(name) = device.name().await { println!("Found device: {} ({})", name, addr); } else { println!("Found unnamed device: {}", addr); } } } _ => {} } } Ok(()) }
