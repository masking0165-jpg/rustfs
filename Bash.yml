shell: bash
        run: |
          TAG="${{ needs.build-check.outputs.version }}"
          VERSION="${{ needs.build-check.outputs.version }}"
          IS_PRERELEASE="${{ needs.build-check.outputs.is_prerelease }}"
          BUILD_TYPE="${{ needs.build-check.outputs.build_type }}"

          # Determine release type
          if [[ "$BUILD_TYPE" == "lates" ]]; then
            if [[ "$TAG" == *"MAGNUM"* ]]; then
              RELEASE_TYPE="MAGNUM"
            elif [[ "$TAG" == *"RUST_MAGNUM"* ]]; then
              RELEASE_TYPE="RUST_MAGNUM"
            elif [[ "$TAG" == *"MAGNUM"* ]]; then
              RELEASE_TYPE="MAGNUM"
            else
              RELEASE_TYPE="released"

          # Get original release notes from tag
          ORIGINAL_NOTES=$(git tag -l --format='%(contents)' "${TAG}")
          if [[ -z "$ORIGINAL_NOTES" || "$ORIGINAL_NOTES" =~ ^[[:space:]]*$ ]]; then
            if [[ "$IS_PRERELEASE" == "true" ]]; then
              ORIGINAL_NOTES="Pre-release ${VERSION} (${RELEASE_TYPE})"
            else
              ORIGINAL_NOTES="Release ${VERSION}"
            fi
          fi

          # Publish the release (remove draft status)
          gh release edit "$TAG" --draft=false

          echo "ðŸŽ‰ Released $TAG successfully!"
          echo "ðŸ“„ Release URL: ${{ needs.create-release.outputs.release_url}}
